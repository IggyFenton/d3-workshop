<!DOCTYPE html>

<head>
  <title>D3</title>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="lib/bootstrap/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="lib/font-awesome/css/font-awesome.min.css" />
  <link rel="stylesheet" href="lib/codemirror/lib/codemirror.css">
  <link rel="stylesheet" href="css/site.css" />
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700|Ubuntu' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="css/inlet.css">
  <script type="text/javascript" src="lib/codemirror/lib/codemirror.js"></script>
  <script type="text/javascript" src="lib/d3/d3.min.js"></script>
  <script src="js/sticker.js"></script>
  <script src="js/inlet.min.js"></script>
</head>

<body  ng-controller="sliderController">
  <div id="sidebar">
    <div id="navlinks">
    </div>
  </div>
  <div id="wrapper">
    <nav class="navbar navbar-inverse">
      <div id='test' class="container-fluid">
        <ul class="nav navbar-nav navbar-left">
          <li>
            <button id="sidebarToggle" class="btn btn-primary">
              <i class="fa fa-angle-left"></i>
            </button>
          </li>
        </ul>
      </div>
    </nav>
    <div id="main" class="container-fluid pull-left">
        <div>
            <div class="row">
              <div id="circle" class="col-md-12">
                <h2>circle</h2>
                <aside>Click on any of the numbers in the code to change them</aside>
                <div class="col-md-6">
                  <div class="editor"></div>
                </div>
                <div class="col-md-6">
                  <svg width="800" height=200>
                    <circle cx=250 cy=100 r=30 fill="#25B0B0"></circle>
                  </svg>
                </div>
                <script>
                  (function() {
                    var options = {
                      mode: 'text/html',
                      lineNumbers: true,
                      viewportMargin: Infinity
                    };
                    var editor = d3.select("#circle").select(".editor");
                    var svg = d3.select("#circle svg");
                    var sticker = d3.sticker(svg.select("circle").node());

                    var cm = CodeMirror(editor.node(), options);
                    Inlet(cm);
                    var text = "<circle\n  cx=250\n  cy=100\n  r=30\n  fill='#25B0B0'>\n</circle>";
                    cm.setValue(text);
                    cm.on("change", function() {
                      var value = cm.getValue();
                      sticker.string(value);
                      sticker.deserialize();
                      svg.selectAll("*").remove()
                      sticker(svg)
                    })
                  }())
                </script>
                </div>
                  <!--<div id="treeBackground"></div>-->
              </div>
            </div>
        </div>
    </div>
    <div id="footer" class="container-fluid">
      <div class="navbar navbar-inverse navbar-fixed-bottom">
      </div>
    </div>
  </div>

  <script type="text/javascript" src="lib/jquery/dist/jquery.min.js"></script>
  <script type="text/javascript" src="lib/bootstrap/dist/js/bootstrap.min.js"></script>

  <script type="text/javascript" src="js/site.js"></script>
</body>